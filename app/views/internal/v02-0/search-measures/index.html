{% extends "layouts/internal-main2-0.html" %}

{% block pageTitle %}
    Searching the measure register
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
        <a href="#" class="govuk-back-link" onclick="history.go(-1)">Back</a>
        
        <div class="govuk-error-summary hide" data-module="govuk-error-summary" id="error-MRN-summary">
            <div role="alert">
              <h2 class="govuk-error-summary__title">
                There is a problem
              </h2>
              <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li id="errorWithMRN" class="hide">
                        <p><a href="#error-with-MRN">
                            Enter a single measure reference number to search<br />
                            Or, search for measure reference numbers by uploading a file containing the numbers you want to search
                            <br />
                            <br />
                            You cannot search using both a single measure reference number and a file containing measure reference numbers
                        </a>
                    </li>
                    <li id="errorWithNothingSelected" class="hide">
                        <p><a href="#error-with-MRN">Enter a single measure reference number or upload a file with measure reference numbers to search</a></p>
                        <p><a href="#error-with-status">Or, select one or more measure statuses if not searching using measure reference numbers</a></p>
                    </li>
                </ul>
              </div>
            </div>
        </div>

        <h1 class="govuk-heading-xl">Searching the measure register</h1>

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">
                <p class="govuk-body">Search and review the measures you've previously uploaded to the Great British Insulation Scheme portal using the filters provided.</p>

                <!-- Different ways to search for measures -->
                <details class="govuk-details" data-module="govuk-details">
                    <summary class="govuk-details__summary">
                        <span class="govuk-details__summary-text">
                            Different ways to search for measures
                        </span>
                    </summary>
                    <div class="govuk-details__text">
                        <p class="gov-body">You can search for measures using:</p>
                
                        <ul class="govuk-list govuk-list--bullet">
                            <li>single measure reference numbers</li>
                            <li>a file containing multiple measure reference numbers</li>
                            <li>other filters</li>
                        </ul>

                        <p class="govuk-body"><strong>Single measure reference numbers</strong></p>
                        <P class="govuk-body">To search for individual measures using a single reference number:</P>
                            
                        <ul class="govuk-list govuk-list--number indent40">
                            <li>Find the measure reference number in the original notification file you uploaded.</li>
                            <li>Copy the measure reference number you want to search for.</li>
                            <li>Add it to the measure reference number field on the next page.</li>
                            <li>Select the "Search" button.</li>
                        </ul>

                        <p class="govuk-body"><strong>A file containing multiple measure reference numbers</strong></p>
                        
                        <p class="gov-body">To search for measures using a measure reference number file, you should:</p>
                        <ul class="govuk-list govuk-list--number indent40">
                            <li>Create a CSV file.</li>
                            <li>Include a single column with the heading labelled as 'Measure_reference_number'.</li>
                            <li>Then, add the measure reference numbers you want to search for in the column.</li>
                            <li>Save the CSV file.</li>
                            <li>Go to the search page in the Great British Insulation Scheme.</li>
                            <li>Select "Choose file" and select the CSV file you created.</li>
                            <!-- <li>Select "Upload measure reference file".</li> -->
                            <li>Select the "Search" button.</li>
                        </ul>

                        <p class="govuk-body"><strong>Using other filters to search for measures</strong></p>

                        <p class="govuk-body">You can also search for measures by the following filters:</p>
                        <ul class="govuk-list govuk-list--number indent40">
                            <li>Supplier name</li>
                            <li>Measure status</li>
                            <li>Notification period</li>
                            <li>Property post code</li>
                        </ul>
                    </div>
                </details>
            </div>

            <div class="govuk-grid-column-one-third">
                <h2 class="govuk-heading-l">Filters</h2>

                <form>
                    <div class="tabs">
                        <!-- Supplier name -->
                        <div class="tab">
                            <input class="hide-accordion-checkboxes" type="checkbox" id="chck1" checked="checked">
                            <label class="tab-label" for="chck1">Supplier name</label>
                            <div class="tab-content">
                                <fieldset class="govuk-fieldset" role="group" aria-describedby="supplier-name-hint" id="error-with-supplier-name">
                                    <legend class="govuk-fieldset__legend">
                                        <h2 class="govuk-heading-m">What is the supplier name?</h2>
                                    </legend>
                                    <div id="supplier-name-hint" class="govuk-hint">
                                        Select the supplier name
                                    </div>
                                    <p id="empty-supplier-name-field-error" class="govuk-error-message hide">
                                        <span class="govuk-visually-hidden">Error:</span> Please provide the supplier name
                                    </p>
                                    <!-- <input class="govuk-input" id="supplier-name" name="supplierName" type="text"> -->
                                    <div class="govuk-form-group">
                                        <select class="govuk-select" name="supplierName" id="supplierName">
                                            <option value="" disabled selected>Select a supplier</option>
                                            <option value="BGT">BGT</option>
                                            <option value="ECY">ECY</option>
                                            <option value="EDF">EDF</option>
                                            <option value="EGE">EGE</option>
                                            <option value="EON">EON</option>
                                            <option value="FOX">FOX</option>
                                            <option value="OCT">OCT</option>
                                            <option value="OVO">OVO</option>
                                            <option value="SHL">SHL</option>
                                            <option value="SOE">SOE</option>
                                            <option value="SPW">SPW</option>
                                            <option value="UTA">UTA</option>
                                            <option value="UTW">UTW</option>
                                        </select>
                                    </div>
                                </fieldset>
                            </div>
                        </div>

                        <!-- Measure reference number -->
                        <div class="tab">
                           <input class="hide-accordion-checkboxes" type="checkbox" id="chck2" checked="checked">
                           <label class="tab-label" for="chck2">Measure reference number</label>
                           <div class="tab-content">
                                <div class="govuk-form-group" id="mrnErrorSection">
                                    <fieldset class="govuk-fieldset" role="group" aria-describedby="submission-date-hint" id="error-with-MRN">
                                        <legend class="govuk-fieldset__legend">
                                            <h2 class="govuk-heading-m">Different ways to search for measures</h2>
                                        </legend>
                                        
                                        <p class="govuk-body">You can search for measures using:</p>
                                        
                                        <ul class="govuk-list govuk-list--bullet">
                                            <li>single measure reference numbers</li>
                                            <li>a file containing multiple measure reference numbers</li>
                                        </ul>
                                        
                                        <div class="govuk-form-group">
                                            <label class="govuk-label" for="measure-reference-number">
                                                Measure reference number
                                            </label>
                                            <p id="mrn-field-error" class="govuk-error-message hide">
                                                <span class="govuk-visually-hidden">Error:</span> Enter a single measure reference number to search
                                            </p>
                                            <input class="govuk-input" id="measure-reference-number" name="measure-reference-number" type="text">
                                        </div>
            
                                        <div class="or-class"><p class="govuk-body">Or</div>
                                        
                                        <div id="measureReferenceFile" class="">
                                            <span class="govuk-label" for="measure-reference-file">
                                                Measure reference number file
                                            </span>
                                            
                                            <p id="mrn-file-field-error" class="govuk-error-message hide">
                                                <span class="govuk-visually-hidden">Error:</span> Or, search for measure reference numbers by uploading a file containing the numbers you want to search
                                            </p>

                                            <label for="file-upload" class="custom-file-upload">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                                    <path d="M11 14.9861C11 15.5384 11.4477 15.9861 12 15.9861C12.5523 15.9861 13 15.5384 13 14.9861V7.82831L16.2428 11.0711L17.657 9.65685L12.0001 4L6.34326 9.65685L7.75748 11.0711L11 7.82854V14.9861Z" fill="currentColor"/>
                                                    <path d="M4 14H6V18H18V14H20V18C20 19.1046 19.1046 20 18 20H6C4.89543 20 4 19.1046 4 18V14Z" fill="currentColor"/>
                                                </svg> Choose file
                                            </label>
                                            <input  class="" 
                                                    id="file-upload" 
                                                    name="file-upload" 
                                                    type="file" 
                                                    accept=".csv" 
                                                    tabindex="-1"
                                                    title="file-upload"
                                                    onchange="fileSelection()"/>
                                            
                                            <p id="invalidFileUploaded" class="govuk-error-message hide"><span class="govuk-visually-hidden">Error:</span>The selected file is invalid</p>
                                            <p id="validFileUploaded" class="govuk-success-message hide"><span class="govuk-visually-hidden"></span>File uploaded</p>
                                            
                                            <!-- <button id="uploadBtn" disabled="disabled" aria-disabled="true" class="govuk-button govuk-button--secondary govuk-button--disabled margin0" class="govuk-button"  onclick="triggerMrnFileValidation()" type="button">Upload measure reference number file</button> -->
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>

                        <!-- Status -->
                        <div class="tab">
                            <input class="hide-accordion-checkboxes" type="checkbox" id="chck3" checked="checked">
                            <label class="tab-label" for="chck3">Status</label>
                            <div class="tab-content">
                                <div class="govuk-form-group" id="statusErrorSection">
                                    <fieldset class="govuk-fieldset" role="group" aria-describedby="measure-status-hint" id="error-with-status">
                                        <legend class="govuk-fieldset__legend">
                                            <h2 class="govuk-heading-m">What is the measure status?</h2>
                                        </legend>
                                        <div id="measure-status-hint" class="govuk-hint">
                                            You can select one or more items in the list.
                                        </div>
                                        <p id="empty-status-field-error" class="govuk-error-message hide">
                                            <span class="govuk-visually-hidden">Error:</span> Select one status if you're not searching by measure reference numbers
                                        </p>
                                        <div id="cboxesMeasureStatus" class="govuk-checkboxes" data-module="govuk-checkboxes"></div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Notification period -->
                        <div class="tab">
                           <input class="hide-accordion-checkboxes" type="checkbox" id="chck4" checked="checked" >
                           <label class="tab-label" for="chck4">Notification period</label>
                           <div class="tab-content">
                                <fieldset class="govuk-fieldset" role="group" aria-describedby="measure-status-hint">
                                    <legend class="govuk-fieldset__legend">
                                        <h2 class="govuk-heading-m">What is the notification period?</h2>
                                    </legend>
                                    
                                    <div id="measure-status-hint" class="govuk-hint">
                                        You can select one or more items in the list.
                                    </div>
                                    
        
                                    <select class="govuk-select govuk-!-width-full" id="notification-period-none" name="notification-period" size="5" multiple="multiple">
                                        <option value="" selected disabled hidden>Select a notification period</option>
                                    </select>
                                    <select class="govuk-select govuk-!-width-full hide" id="notification-period-all" name="notification-period" size="5" multiple="multiple">
                                        <option value="" selected disabled hidden>Select a notification period</option>
                                    </select>
                                    <a class="govuk-link" href="javascript:;" onclick="toggleSelectNotificationPeriodFn()">select <span id="allOrNoneNotification">all</span></a>
                                </fieldset>
                           </div>
                        </div>

                        <!-- Post code -->
                        <div class="tab">
                            <input class="hide-accordion-checkboxes" type="checkbox" id="chck5" checked="checked">
                            <label class="tab-label" for="chck5">Post code</label>
                            <div class="tab-content">
                                <fieldset class="govuk-fieldset" role="group" aria-describedby="postcode-hint" id="error-with-postcode">
                                    <legend class="govuk-fieldset__legend">
                                        <h2 class="govuk-heading-m">What is the post code?</h2>
                                    </legend>
                                    <div id="postcode-hint" class="govuk-hint">
                                        Enter the post code
                                    </div>
                                    <p id="empty-postcode-field-error" class="govuk-error-message hide">
                                        <span class="govuk-visually-hidden">Error:</span> Please provide the post code
                                    </p>
                                    <input class="govuk-input" id="postcode" name="postcode" type="text">
                                </fieldset>
                            </div>
                        </div>
                        
                        <!-- 
                        <div class="govuk-form-group">
                            <fieldset class="govuk-fieldset">
                              <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
                                <h1 class="govuk-fieldset__heading">
                                  Where do you live?
                                </h1>
                              </legend>
                              <div id="measure-status-radio" class="govuk-radios" data-module="govuk-radios">
                                
                              </div>
                            </fieldset>
                        </div>
                         -->

                        <!-- Measure type -->
                        <!-- <div class="tab">
                            <input class="hide-accordion-checkboxes" type="checkbox" id="chck3">
                            <label class="tab-label" for="chck3">Measure type</label>
                            <div class="tab-content">
                                <fieldset class="govuk-fieldset" role="group" aria-describedby="measure-type-hint">
                                    <legend class="govuk-fieldset__legend">
                                        <h2 class="govuk-heading-m">What is the measure type?</h2>
                                    </legend>
                                    
                                    <div id="measure-type-hint" class="govuk-hint">
                                        You can select one or more items in the list.
                                    </div>
        
                                    <select class="govuk-select govuk-!-width-full" id="measure-type-category-none" name="measure-type-category" size="5" multiple="multiple">
                                        <option value="" selected disabled hidden>Select a measure type category</option>
                                    </select>
                                    <select class="govuk-select govuk-!-width-full hide" id="measure-type-category-all" name="measure-type-category" size="5" multiple="multiple">
                                        <option value="" selected disabled hidden>Select a measure type category</option>
                                    </select>
                                    
                                    <a class="govuk-link" href="javascript:;" onclick="toggleSelectCategoryTypeFn()">select <span id="allOrNoneCategory">all</span></a>
                                </fieldset>
                            </div>
                        </div> -->
                        
                        <!-- Submission date -->
                        <!-- <div class="tab">
                           <input class="hide-accordion-checkboxes" type="checkbox" id="chck4">
                           <label class="tab-label" for="chck4">Submission date</label>
                           <div class="tab-content">
                                    <fieldset class="govuk-fieldset" role="group" aria-describedby="submission-date-hint">
                                        <legend class="govuk-fieldset__legend">
                                            <h2 class="govuk-heading-m">What is the submission date?</h2>
                                        </legend>
            
                                        <div id="submission-date-hint" class="govuk-hint">
                                            For example, 27 3 2007
                                        </div>
            
                                        <div class="govuk-date-input" id="submission-date">
                                            <div class="govuk-date-input__item">
                                                    <label class="govuk-label govuk-date-input__label" for="submission-date-day">
                                                        Day
                                                    </label>
                                                    <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="submission-date-day" name="submission-date-day" type="text" inputmode="numeric">
                                            </div>
                                            <div class="govuk-date-input__item">
                                                    <label class="govuk-label govuk-date-input__label" for="submission-date-month">
                                                        Month
                                                    </label>
                                                    <input class="govuk-input govuk-date-input__input govuk-input--width-2" id="submission-date-month" name="submission-date-month" type="text" inputmode="numeric">
                                            </div>
                                            <div class="govuk-date-input__item">
                                                    <label class="govuk-label govuk-date-input__label" for="submission-date-year">
                                                        Year
                                                    </label>
                                                    <input class="govuk-input govuk-date-input__input govuk-input--width-4" id="submission-date-year" name="submission-date-year" type="text" inputmode="numeric">
                                            </div>
                                        </div>
                                    </fieldset>
                           </div>
                        </div> -->

                        <!-- Notification period -->
                        
                    </div>
                    
                    <!-- Search -->
                    <div class="govuk-button-group">
                        <a id="performSearch" href="javascript:void(0);" class="govuk-button" data-module="govuk-button" onclick="intCheckMRN()">
                            Search
                        </a>
                    </div>

                </form>

            </div>

            <div class="govuk-grid-column-two-thirds">
                <h2 class="govuk-heading-l">Results</h2>
                <p class="govuk-body">Set the filters to search for previously uploaded measures.</p>
            </div>
        </div>
                
        <hr class="govuk-section-break govuk-sectio-break--l govuk-section-break--visible" />
           
        <p class="govuk-body"><a href="/internal/v02-0/">Return to homepage</a></p>
    </div>
</div>
{% endblock %}